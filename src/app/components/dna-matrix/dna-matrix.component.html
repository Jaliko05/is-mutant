<div class="bg-white rounded-xl p-6 shadow-lg max-w-3xl mx-auto">
    <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">
        Matriz de ADN {{ dna().length }}x{{ dna().length }}
    </h3>

    @if (dna().length > 0) {
        <!-- Matriz -->
        <div class="overflow-x-auto">
            <div class="inline-block min-w-full">
                <div class="flex flex-col gap-1" [style.width.fit]="'content'">
                    @for (sequence of dna(); track rowIndex; let rowIndex = $index) {
                        <div class="flex gap-1 justify-center">
                            @for (base of sequence.split(''); track colIndex; let colIndex = $index) {
                                <div
                                    [class]="'flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-lg font-mono text-xl sm:text-2xl font-semibold transition-all duration-300 ' + getCellClasses(rowIndex, colIndex)"
                                    [title]="'Posición [' + rowIndex + ', ' + colIndex + ']: ' + base"
                                >
                                    {{ base }}
                                </div>
                            }
                        </div>
                    }
                </div>
            </div>
        </div>

        <!-- Leyenda de colores -->
        @if (sequences().length > 0) {
            <div class="mt-6 pt-6 border-t border-gray-200">
                <h4 class="text-lg font-semibold text-gray-700 mb-3">Leyenda de Secuencias:</h4>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-blue-500 rounded border-2 border-blue-600"></div>
                        <span class="text-sm text-gray-700">Horizontal →</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-green-500 rounded border-2 border-green-600"></div>
                        <span class="text-sm text-gray-700">Vertical ↓</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-purple-500 rounded border-2 border-purple-600"></div>
                        <span class="text-sm text-gray-700">Diagonal ↘</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-orange-500 rounded border-2 border-orange-600"></div>
                        <span class="text-sm text-gray-700">Diagonal ↙</span>
                    </div>
                </div>
            </div>
        }
    } @else {
        <div class="text-center py-12 text-gray-400">
            <p class="text-lg italic">No hay matriz para mostrar</p>
        </div>
    }
</div>
